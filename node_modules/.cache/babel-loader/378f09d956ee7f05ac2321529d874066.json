{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Table,Image,Button}from'react-bootstrap';import{listProducts}from'../actions/productActions';import{listOrders}from'../actions/orderActions';import Loader from'../components/Loader';import Message from'../components/Message';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminAnalytics=_ref=>{let{history}=_ref;const dispatch=useDispatch();// Lấy dữ liệu sản phẩm\nconst productList=useSelector(state=>state.productList);const{loading:loadingProducts,error:errorProducts,products}=productList;// Lấy dữ liệu đơn hàng\nconst orderList=useSelector(state=>state.orderList);const{loading:loadingOrders,error:errorOrders,orders}=orderList;useEffect(()=>{// Gửi yêu cầu lấy dữ liệu sản phẩm và đơn hàng\ndispatch(listProducts());dispatch(listOrders());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',fontFamily:'Arial, sans-serif',backgroundColor:'#f4f4f9'},children:[/*#__PURE__*/_jsxs(Button,{variant:\"secondary\",className:\"mb-3\",onClick:()=>history.goBack(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\" Quay l\\u1EA1i\"]}),/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center',marginBottom:'30px'},children:\"Th\\u1ED1ng K\\xEA T\\u1ED3n Kho\"}),loadingProducts?/*#__PURE__*/_jsx(Loader,{}):errorProducts?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorProducts}):/*#__PURE__*/_jsxs(Table,{bordered:true,hover:true,responsive:true,className:\"table-sm\",style:{marginBottom:'50px',width:'90%',margin:'auto'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"H\\xECnh \\u1EA2nh\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID S\\u1EA3n Ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\u1ED3n Kho\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true,rounded:true,style:{maxWidth:'80px'}})}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:product._id}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:product.countInStock})]},product._id))})]}),/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:'center',margin:'50px 0 30px'},children:\"Th\\u1ED1ng K\\xEA L\\u1ECBch S\\u1EED Mua H\\xE0ng\"}),loadingOrders?/*#__PURE__*/_jsx(Loader,{}):errorOrders?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorOrders}):/*#__PURE__*/_jsxs(Table,{bordered:true,hover:true,responsive:true,className:\"table-sm\",style:{margin:'auto',width:'90%'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"H\\xECnh \\u1EA2nh\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID \\u0110\\u01A1n H\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn Ng\\u01B0\\u1EDDi D\\xF9ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y T\\u1EA1o\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:order.orderItems&&order.orderItems.length>0?/*#__PURE__*/_jsx(Image,{src:order.orderItems[0].image,alt:order.orderItems[0].name,fluid:true,rounded:true,style:{width:'50px',height:'50px'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-box\",style:{fontSize:'2rem',color:'gray'}})}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:order._id}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:order.user&&order.user.name}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:order.createdAt.substring(0,10)})]},order._id))})]})]});};export default AdminAnalytics;","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","Table","Image","Button","listProducts","listOrders","Loader","Message","jsx","_jsx","jsxs","_jsxs","AdminAnalytics","_ref","history","dispatch","productList","state","loading","loadingProducts","error","errorProducts","products","orderList","loadingOrders","errorOrders","orders","style","padding","fontFamily","backgroundColor","children","variant","className","onClick","goBack","textAlign","marginBottom","bordered","hover","responsive","width","margin","map","product","src","image","alt","name","fluid","rounded","maxWidth","_id","countInStock","order","orderItems","length","height","fontSize","color","user","createdAt","substring"],"sources":["D:/Download/baitaplon/frontend/src/screens/AdminAnalytics.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Table, Image, Button } from 'react-bootstrap';\nimport { listProducts } from '../actions/productActions';\nimport { listOrders } from '../actions/orderActions';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\n\nconst AdminAnalytics = ({ history }) => {\n  const dispatch = useDispatch();\n\n  // Lấy dữ liệu sản phẩm\n  const productList = useSelector((state) => state.productList);\n  const { loading: loadingProducts, error: errorProducts, products } = productList;\n\n  // Lấy dữ liệu đơn hàng\n  const orderList = useSelector((state) => state.orderList);\n  const { loading: loadingOrders, error: errorOrders, orders } = orderList;\n\n  useEffect(() => {\n    // Gửi yêu cầu lấy dữ liệu sản phẩm và đơn hàng\n    dispatch(listProducts());\n    dispatch(listOrders());\n  }, [dispatch]);\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif', backgroundColor: '#f4f4f9' }}>\n      {/* Nút Quay lại */}\n      <Button\n        variant=\"secondary\"\n        className=\"mb-3\"\n        onClick={() => history.goBack()}\n      >\n        <i className=\"fas fa-arrow-left\"></i> Quay lại\n      </Button>\n      \n      {/* Thống kê tồn kho */}\n      <h1 style={{ textAlign: 'center', marginBottom: '30px' }}>Thống Kê Tồn Kho</h1>\n      {loadingProducts ? (\n        <Loader />\n      ) : errorProducts ? (\n        <Message variant=\"danger\">{errorProducts}</Message>\n      ) : (\n        <Table bordered hover responsive className=\"table-sm\" style={{ marginBottom: '50px', width: '90%', margin: 'auto' }}>\n          <thead>\n            <tr>\n              <th>Hình Ảnh</th>\n              <th>ID Sản Phẩm</th>\n              <th>Tồn Kho</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td style={{ textAlign: 'center' }}>\n                  <Image\n                    src={product.image}\n                    alt={product.name}\n                    fluid\n                    rounded\n                    style={{ maxWidth: '80px' }}\n                  />\n                </td>\n                <td style={{ textAlign: 'center' }}>{product._id}</td>\n                <td style={{ textAlign: 'center' }}>{product.countInStock}</td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n\n      {/* Thống kê lịch sử mua hàng */}\n      <h1 style={{ textAlign: 'center', margin: '50px 0 30px' }}>Thống Kê Lịch Sử Mua Hàng</h1>\n      {loadingOrders ? (\n        <Loader />\n      ) : errorOrders ? (\n        <Message variant=\"danger\">{errorOrders}</Message>\n      ) : (\n        <Table bordered hover responsive className=\"table-sm\" style={{ margin: 'auto', width: '90%' }}>\n          <thead>\n            <tr>\n              <th>Hình Ảnh</th>\n              <th>ID Đơn Hàng</th>\n              <th>Tên Người Dùng</th>\n              <th>Ngày Tạo</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map((order) => (\n              <tr key={order._id}>\n                <td style={{ textAlign: 'center' }}>\n                  {order.orderItems && order.orderItems.length > 0 ? (\n                    <Image\n                      src={order.orderItems[0].image}\n                      alt={order.orderItems[0].name}\n                      fluid\n                      rounded\n                      style={{ width: '50px', height: '50px' }}\n                    />\n                  ) : (\n                    <i\n                      className=\"fas fa-box\"\n                      style={{ fontSize: '2rem', color: 'gray' }}\n                    ></i>\n                  )}\n                </td>\n                <td style={{ textAlign: 'center' }}>{order._id}</td>\n                <td style={{ textAlign: 'center' }}>{order.user && order.user.name}</td>\n                <td style={{ textAlign: 'center' }}>{order.createdAt.substring(0, 10)}</td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </div>\n  );\n};\n\nexport default AdminAnalytics;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}